key AX, i; set i, 2
key BX, n
key CX, a
write i

.main_loop
    set RBX, 1; add i, RBX
    set n, 2
    .check_if_prime
        mov a, n
        .mod
            mov RBX, i; sub a, RBX
            brp a, .mod
            brz a, .no_write
        set RBX, 1; add n, RBX
        mov RAX, i; sub RAX, n; brp RAX, .check_if_prime
        .write
            write i
        .no_write
    set RAX, 32767; sub RAX, i; brz RAX, .end
    jump .main_loop

.end
    end
